<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="UTF-8" />
        <title>
        </title>
        <style type="text/css">
            *{ -webkit-user-select: none; /* Disable selection/Copy of UIWebView */
            }
            body{
                margin: 0
            }
        </style>
        <script type="text/javascript" src="ichart.1.2.1.src.js">
        </script>
        <script type="text/javascript">
            function drawPie2D(data, pie2DConfig) {
                data = eval('(' + data + ')');
                pie2DConfig = eval('(' + pie2DConfig + ')');
                var chart = new iChart.Pie2D({
                    render: 'canvasDiv',
                    data: data,
                    border : {
                        enable : false
                    },
                    title: {
                        text:pie2DConfig.title,
                        fontsize:18,
                    },
                    bound_event:null,
                    padding:"0 0 0 0",//默认为10
                    showpercent: false,
                    decimalsnum: 2,
                    width: pie2DConfig.width,
                    height: pie2DConfig.height,
                    animation : true,
                    turn_off_touchmove : true,
                    mutex:true,//是否仅有一块扇形区处于弹出状态
                    legend:{
                        enable:false,
                        padding:0,
                        color:'#3e576f',
                        border:false,
                        align:'left',
                        background_color : null,//透明背景
                        listeners:{
                            parse:function(p,text,i){
                                // return p.data[i].name;
                            }
                        }
                    }, 
                    sub_option:{
                        mini_label_threshold_angle : 5,//迷你label的阀值,单位:角度
                        mini_label:{//迷你label配置项
                            fontweight:600,
                            color : '#FFFFFF'
                        },
                        offsety:-30,
                        strokeStyle:'red',
                        label : {
                            background_color:null,
                            sign:false,//设置禁用label的小图标
                            padding:'0 4',
                            border:{
                                enable:false,
                                color:'#666666'
                            },
                            offsetx:10,
                            fontsize:10,
                            fontweight:600,
                            color : '#4572a7'
                        },
                        border : {
                            width : 2,
                            color : '#ffffff'
                        },
                        listeners:{
                            parseText:function(d, t){
                                // return d.get('value')+"%";
                                return d.get('name');
                                // return d.get('name')+' '+d.get('value')+"%";
                            }
                        }
                    }
                });
                chart.draw();
            }
        </script>
    </head>
    <!--
         onload=drawPie2D("[{'name':'熟料1熟料2熟料3熟料4熟料5','value':100.95,'color':'#a5c2d5'},{'name':'粉煤灰','value':27.05,'color':'#cbab4f'},{'name':'矿渣','value':100.55,'color':'#76a871'},{'name':'石膏','value':1.45,'color':'#9f7961'}]","{'title':'2013-09-01至2013-09-30直接材料成本','height':320.000000,'width':320.000000}")
     -->
    <body>
        <div id='canvasDiv'>
        </div>
    </body>

</html>