<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="UTF-8" />
        <title>
        </title>
        <style type="text/css">
            *{ -webkit-user-select: none; /* Disable selection/Copy of UIWebView */
            }
            body{
                margin: 0
            }
        </style>
        <script type="text/javascript" src="ichart.1.1.min.js">
        </script>
        <script type="text/javascript">
            function callBackground(type, expand, id) {
                var url = type + ":" + expand + ":" + id;
                document.location = url;
            }
            var ratio = window.devicePixelRatio * window.devicePixelRatio; //retina屏幕支持,放大倍数为面积倍数，长和宽
            function drawPie2D(data, pie2DConfig) {
                data = eval('(' + data + ')');
                pie2DConfig = eval('(' + pie2DConfig + ')');
                var chart = new iChart.Pie2D({
                    render: 'canvasDiv',
                    data: data,
                    label:{
                        fontsize: 12*ratio
                    },
                    border : {
                        enable : false
                    },
                    title: {
                        text:pie2DConfig.title,
                        fontsize:15*ratio,
                        offsety:10*ratio
                    },
                    padding:0*ratio,//默认为10
                    showpercent: false,
                    decimalsnum: 2,
                    width: pie2DConfig.width*ratio,
                    height: pie2DConfig.height*ratio,
                    animation : true,
                    turn_off_touchmove : true,
                    mutex:true,//是否仅有一块扇形区处于弹出状态
                    legend:{
                        enable:false,
                        padding:0,
                        offsetx:4*ratio,
                        offsety:0*ratio,
                        color:'#3e576f',
                        fontsize:12*ratio,//文本大小
                        sign_size:10*ratio,//小图标大小
                        line_height:16*ratio,//设置行高
                        sign_space:5*ratio,//小图标与文本间距
                        border:false,
                        align:'left',
                        background_color : null,//透明背景
                        listeners:{
                            parse:function(p,text,i){
                                // return p.data[i].name;
                            }
                        }
                    }, 
                    sub_option:{
                        mini_label_threshold_angle : 5,//迷你label的阀值,单位:角度
                        mini_label:{//迷你label配置项
                            fontsize:10*ratio,
                            fontweight:600,
                            color : '#FFFFFF'
                        },
                        offsety:-20*ratio,
                        shadow_blur:4*ratio,//此组件阴影的模糊程度,单位px。(默认为4)
                        strokeStyle:'red',
                        label : {
                            background_color:null,
                            sign:false,//设置禁用label的小图标
                            padding:'0 4',
                            border:{
                                enable:false,
                                color:'#666666'
                            },
                            fontsize:10*ratio,
                            fontweight:600,
                            color : '#4572a7'
                        },
                        border : {
                            width : 2,
                            color : '#ffffff'
                        },
                        listeners:{
                            parseText:function(d, t){
                                // return d.get('value')+"%";
                                // return d.get('name');
                                return d.get('name')+' '+d.get('value')+"%";
                            }
                        }
                    }
                });
                chart.draw();
            }
        </script>
    </head>
    <!--
       
     -->
    <body onload=drawPie2D("[{'name':'熟料','value':56.95,'color':'#a5c2d5'},{'name':'粉煤灰','value':27.05,'color':'#cbab4f'},{'name':'矿渣','value':14.55,'color':'#76a871'},{'name':'石膏','value':1.45,'color':'#9f7961'}]","{'title':'2013-09-01至2013-09-30直接材料成本','height':320.000000,'width':320.000000}")>
        <div id='canvasDiv'>
        </div>
    </body>

</html>